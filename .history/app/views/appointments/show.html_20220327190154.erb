<h1>Available time slots <%= @date.strftime("%B %d, %Y") %> </h1>


<table class="table table-bordered">
  <thead>
    <tr>
      <th scope="col">Therapist</th>
      <% @slots.each do |slot| %>
      <th scope="col"><%= slot[:start].strftime("%H:%M") %></th>
      <%end%>
    </tr>
  </thead>
  <tbody>
  <% @therapists.each do |therapist| %>
    <tr>
      <th scope="row"><%= therapist.name %></th>
      <% @slots.each do |slot| %>
        <% if reserved_slot?(slot, therapist.appointments) %>
            <td class="table-danger"></td>
        <% else %>
            <td class="table-light">
                <%= "#{slot[:start].strftime("%H:%M")} - #{slot[:end].strftime("%H:%M")}" %>
            </td>
        <%end%>
      <%end%>
    </tr>
    <%end%>
  </tbody>
</table>